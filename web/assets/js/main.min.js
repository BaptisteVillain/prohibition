"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}console.log("mdr");var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Framework=function(){function e(t,r){var n=this;_classCallCheck(this,e),this.container=t,this.fixed=r,this.container_story=t.querySelector(".container--story"),this.timeline=document.querySelector(".timeline"),this.buttons_next=document.querySelectorAll(".next"),this.buttons_prev=document.querySelectorAll(".prev"),this.sections=t.querySelectorAll(".container--section, .container--story--row-civil .container--story--section"),this.button_scroll=document.querySelector(".fixed-vertical-control"),this.current_index=0,this.current_chapter=0,this.previous_index=void 0,this.chapters=document.querySelectorAll(".timeline--part"),this.chapter_prev=document.querySelectorAll(".chapter-prev"),this.chapter_next=document.querySelectorAll(".chapter-next"),this.buttons_prev.forEach(function(e){var t=this;e.addEventListener("click",function(e){e.preventDefault(),t.current_index>0&&(t.previous_index=t.current_index,t.current_index-=1,t.select())})},this),this.buttons_next.forEach(function(e){var t=this;e.addEventListener("click",function(e){e.preventDefault(),t.current_index<t.sections.length-1&&(t.previous_index=t.current_index,t.current_index+=1,t.select())})},this),this.button_scroll.addEventListener("click",function(e){e.preventDefault(),n.container_story.classList.toggle("scrolled"),console.log("scroll")}),this.chapter_prev.forEach(function(e){var t=this;e.addEventListener("click",function(e){e.preventDefault(),t.current_chapter>0&&(t.previous_chapter=t.current_chapter,t.current_chapter-=1,t.current_index=4*t.current_chapter+3,t.selectChapter())})},this),this.chapter_next.forEach(function(e){var t=this;e.addEventListener("click",function(e){e.preventDefault(),t.current_chapter<t.chapters.length-1&&(t.previous_chapter=t.current_chapter,t.current_chapter+=1,t.current_index=4*t.current_chapter+3,t.selectChapter())})},this)}return _createClass(e,[{key:"selectChapter",value:function(){this.container.style.transform="translateX(-"+100*this.current_chapter+"vw)",this.container.classList.add("hide"),framework.container.style.transform="translateX(-"+100*(4*this.current_chapter+3)+"vw)"}},{key:"select",value:function(){this.container.style.transform="translateX(-"+100*this.current_index+"vw)",this.sections[this.current_index].classList.contains("container--story--section")?this.fixed.classList.remove("hide"):this.fixed.classList.add("hide")}}]),e}(),framework=new Framework(document.querySelector(".container"),document.querySelector(".fixed"));console.log(framework);var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Timeline=function(){function e(t){_classCallCheck(this,e),this.container=t,this.chapters=t.querySelectorAll(".timeline--part"),this.current_chapter=0,this.previous_chapter=0,this.current_section=0,this.chapter_prev=document.querySelectorAll(".chapter-prev"),this.chapter_next=document.querySelectorAll(".chapter-next"),this.section_next=document.querySelectorAll(".section-next"),this.chapter_prev.forEach(function(e){var t=this;e.addEventListener("click",function(e){e.preventDefault(),t.current_chapter>0&&(t.previous_chapter=t.current_chapter,t.current_chapter-=1,t.selectChapter())})},this),this.chapter_next.forEach(function(e){var t=this;e.addEventListener("click",function(e){e.preventDefault(),t.current_chapter<t.chapters.length-1&&(t.previous_chapter=t.current_chapter,t.current_chapter+=1,t.selectChapter())})},this)}return _createClass(e,[{key:"selectChapter",value:function(){this.container.style.transform="translateX(-"+100*this.current_chapter+"vw)",this.container.classList.add("hide"),framework.container.style.transform="translateX(-"+100*(4*this.current_chapter+3)+"vw)"}}]),e}(),timeline=new Timeline(document.querySelector(".timeline"));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiLCJDbGFzcy9GcmFtZXdvcmsuanMiLCJDbGFzcy9UaW1lbGluZS5qcyJdLCJuYW1lcyI6WyJjb25zb2xlIiwibG9nIiwiRnJhbWV3b3JrIiwiY29udGFpbmVyIiwiZml4ZWQiLCJfdGhpczMiLCJ0aGlzIiwiX2NsYXNzQ2FsbENoZWNrIiwiY29udGFpbmVyX3N0b3J5IiwicXVlcnlTZWxlY3RvciIsInRpbWVsaW5lIiwiZG9jdW1lbnQiLCJidXR0b25zX25leHQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiYnV0dG9uc19wcmV2Iiwic2VjdGlvbnMiLCJidXR0b25fc2Nyb2xsIiwiY3VycmVudF9pbmRleCIsImN1cnJlbnRfY2hhcHRlciIsInByZXZpb3VzX2luZGV4IiwidW5kZWZpbmVkIiwiY2hhcHRlcnMiLCJjaGFwdGVyX3ByZXYiLCJjaGFwdGVyX25leHQiLCJmb3JFYWNoIiwiYnV0dG9uIiwiX3RoaXMiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInByZXZlbnREZWZhdWx0Iiwic2VsZWN0IiwiX3RoaXMyIiwibGVuZ3RoIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwiX3RoaXM0IiwicHJldmlvdXNfY2hhcHRlciIsInNlbGVjdENoYXB0ZXIiLCJfdGhpczUiLCJzdHlsZSIsInRyYW5zZm9ybSIsImFkZCIsImZyYW1ld29yayIsImNvbnRhaW5zIiwicmVtb3ZlIiwiVGltZWxpbmUiLCJjdXJyZW50X3NlY3Rpb24iLCJzZWN0aW9uX25leHQiXSwibWFwcGluZ3MiOiJxT0FBQUEsUUFBUUMsSUFBSSwyUUNBTkMsVUFBQUEsV0FDSixTQUFBQSxFQUFZQyxFQUFXQyxHQUFNLElBQUFDLEVBQUFDLEtBQUFDLGdCQUFBRCxLQUFBSixHQUMzQkksS0FBS0gsVUFBbUJBLEVBQ3hCRyxLQUFLRixNQUFtQkEsRUFDeEJFLEtBQUtFLGdCQUFtQkwsRUFBVU0sY0FBYyxxQkFDaERILEtBQUtJLFNBQW1CQyxTQUFTRixjQUFjLGFBQy9DSCxLQUFLTSxhQUFtQkQs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QUN2QnhDLEtBQUtnQixhQUFlWCxTQUFTRSxpQkFBaUIsaUJBQzlDUCxLQUFLaUIsYUFBZVosU0FBU0UsaUJBQWlCLGlCQUM5Q1AsS0FBS3lDLGFBQWVwQyxTQUFTRSxpQkFBaUIsaUJBRTlDUCxLQUFLZ0IsYUFBYUUsUUFBUSxTQUFTQyxHQUFRLElBQUFDLEVBQUFwQixLQUN6Q21CLEVBQU9FLGlCQUFpQixRQUFTLFNBQUNDLEdBQ2hDQSxFQUFFQyxpQkFDQ0gsRUFBS1IsZ0JBQWtCLElBQ3hCUSxFQUFLVSxpQkFBbUJWLEVBQUtSLGdCQUM3QlEsRUFBS1IsaUJBQW1CLEVBQ3hCUSxFQUFLVyxvQkFHUi9CLE1BRUhBLEtBQUtpQixhQUFhQyxRQUFRLFNBQVNDLEdBQVEsSUFBQU0sRUFBQXpCLEtBQ3pDbUIsRUFBT0UsaUJBQWlCLFFBQVMsU0FBQ0MsR0FDaENBLEVBQUVDLGlCQUNDRSxFQUFLYixnQkFBa0JhLEVBQUtWLFNBQVNXLE9BQVMsSUFDL0NELEVBQUtLLGlCQUFtQkwsRUFBS2IsZ0JBQzdCYSxFQUFLYixpQkFBbUIsRUFDeEJhLEVBQUtNLG9CQUdSL0IsbUVBS0hBLEtBQUtILFVBQVVvQyxNQUFNQyxVQUFZLGVBQXdDLElBQXZCbEMsS0FBS1ksZ0JBQXdCLE1BQy9FWixLQUFLSCxVQUFVOEIsVUFBVVEsSUFBSSxRQUM3QkMsVUFBVXZDLFVBQVVvQyxNQUFNQyxVQUFZLGVBQWtELEtBQVQsRUFBdkJsQyxLQUFLWSxnQkFBc0IsR0FBVyxlQUk1RlIsU0FBVyxJQUFJbUMsU0FBU2xDLFNBQVNGLGNBQWMiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zb2xlLmxvZygnbWRyJykiLCJjbGFzcyBGcmFtZXdvcmt7XG4gIGNvbnN0cnVjdG9yKGNvbnRhaW5lciwgZml4ZWQpe1xuICAgIHRoaXMuY29udGFpbmVyICAgICAgICA9IGNvbnRhaW5lclxuICAgIHRoaXMuZml4ZWQgICAgICAgICAgICA9IGZpeGVkXG4gICAgdGhpcy5jb250YWluZXJfc3RvcnkgID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5jb250YWluZXItLXN0b3J5JylcbiAgICB0aGlzLnRpbWVsaW5lICAgICAgICAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGltZWxpbmUnKVxuICAgIHRoaXMuYnV0dG9uc19uZXh0ICAgICA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uZXh0JylcbiAgICB0aGlzLmJ1dHRvbnNfcHJldiAgICAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucHJldicpXG4gICAgdGhpcy5zZWN0aW9ucyAgICAgICAgID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5jb250YWluZXItLXNlY3Rpb24sIC5jb250YWluZXItLXN0b3J5LS1yb3ctY2l2aWwgLmNvbnRhaW5lci0tc3RvcnktLXNlY3Rpb24nKVxuICAgIHRoaXMuYnV0dG9uX3Njcm9sbCAgICA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5maXhlZC12ZXJ0aWNhbC1jb250cm9sJylcbiAgICB0aGlzLmN1cnJlbnRfaW5kZXggICAgPSAwXG4gICAgdGhpcy5jdXJyZW50X2NoYXB0ZXIgID0gMCAgICBcbiAgICB0aGlzLnByZXZpb3VzX2luZGV4ICAgPSB1bmRlZmluZWRcbiAgICB0aGlzLmNoYXB0ZXJzICAgICAgICAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGltZWxpbmUtLXBhcnQnKVxuICAgIHRoaXMuY2hhcHRlcl9wcmV2ICAgICA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jaGFwdGVyLXByZXYnKVxuICAgIHRoaXMuY2hhcHRlcl9uZXh0ICAgICA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jaGFwdGVyLW5leHQnKVxuICAgIC8vIHRoaXMuc2VjdGlvbl9uZXh0ICAgICA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zZWN0aW9uLW5leHQnKVxuXG4gICAgdGhpcy5idXR0b25zX3ByZXYuZm9yRWFjaChmdW5jdGlvbihidXR0b24pIHtcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKSAgICBcbiAgICAgICAgaWYodGhpcy5jdXJyZW50X2luZGV4ID4gMCl7XG4gICAgICAgICAgdGhpcy5wcmV2aW91c19pbmRleCA9IHRoaXMuY3VycmVudF9pbmRleCAgICAgICAgXG4gICAgICAgICAgdGhpcy5jdXJyZW50X2luZGV4IC09IDFcbiAgICAgICAgICB0aGlzLnNlbGVjdCgpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSwgdGhpcylcblxuICAgIHRoaXMuYnV0dG9uc19uZXh0LmZvckVhY2goZnVuY3Rpb24oYnV0dG9uKSB7XG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgaWYodGhpcy5jdXJyZW50X2luZGV4IDwgdGhpcy5zZWN0aW9ucy5sZW5ndGggLSAxKXtcbiAgICAgICAgICB0aGlzLnByZXZpb3VzX2luZGV4ID0gdGhpcy5jdXJyZW50X2luZGV4XG4gICAgICAgICAgdGhpcy5jdXJyZW50X2luZGV4ICs9IDFcbiAgICAgICAgICB0aGlzLnNlbGVjdCgpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSwgdGhpcylcblxuICAgIHRoaXMuYnV0dG9uX3Njcm9sbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgIHRoaXMuY29udGFpbmVyX3N0b3J5LmNsYXNzTGlzdC50b2dnbGUoJ3Njcm9sbGVkJylcbiAgICAgIGNvbnNvbGUubG9nKCdzY3JvbGwnKVxuICAgIH0pXG5cbiAgICB0aGlzLmNoYXB0ZXJfcHJldi5mb3JFYWNoKGZ1bmN0aW9uKGJ1dHRvbikge1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpICAgIFxuICAgICAgICBpZih0aGlzLmN1cnJlbnRfY2hhcHRlciA+IDApe1xuICAgICAgICAgIHRoaXMucHJldmlvdXNfY2hhcHRlciA9IHRoaXMuY3VycmVudF9jaGFwdGVyICAgICBcbiAgICAgICAgICB0aGlzLmN1cnJlbnRfY2hhcHRlciAtPSAxXG4gICAgICAgICAgdGhpcy5jdXJyZW50X2luZGV4ID0gdGhpcy5jdXJyZW50X2NoYXB0ZXIgKiA0ICsgM1xuICAgICAgICAgIHRoaXMuc2VsZWN0Q2hhcHRlcigpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSwgdGhpcylcblxuICAgIHRoaXMuY2hhcHRlcl9uZXh0LmZvckVhY2goZnVuY3Rpb24oYnV0dG9uKSB7XG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgaWYodGhpcy5jdXJyZW50X2NoYXB0ZXIgPCB0aGlzLmNoYXB0ZXJzLmxlbmd0aCAtIDEpe1xuICAgICAgICAgIHRoaXMucHJldmlvdXNfY2hhcHRlciA9IHRoaXMuY3VycmVudF9jaGFwdGVyICAgICBcbiAgICAgICAgICB0aGlzLmN1cnJlbnRfY2hhcHRlciArPSAxXG4gICAgICAgICAgdGhpcy5jdXJyZW50X2luZGV4ID0gdGhpcy5jdXJyZW50X2NoYXB0ZXIgKiA0ICsgMyAgICAgICAgICBcbiAgICAgICAgICB0aGlzLnNlbGVjdENoYXB0ZXIoKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH0sIHRoaXMpXG5cbiAgfVxuXG4gIHNlbGVjdENoYXB0ZXIoKXtcbiAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWCgtJysgKHRoaXMuY3VycmVudF9jaGFwdGVyICogMTAwKSArJ3Z3KSdcbiAgICB0aGlzLmNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdoaWRlJylcbiAgICBmcmFtZXdvcmsuY29udGFpbmVyLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVYKC0nKyAoKHRoaXMuY3VycmVudF9jaGFwdGVyICogNCArIDMpICogMTAwKSArJ3Z3KSdcbiAgfVxuXG4gIHNlbGVjdCgpe1xuICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVYKC0nKyAodGhpcy5jdXJyZW50X2luZGV4ICogMTAwKSArJ3Z3KSdcbiAgICBpZighdGhpcy5zZWN0aW9uc1t0aGlzLmN1cnJlbnRfaW5kZXhdLmNsYXNzTGlzdC5jb250YWlucygnY29udGFpbmVyLS1zdG9yeS0tc2VjdGlvbicpKXtcbiAgICAgIHRoaXMuZml4ZWQuY2xhc3NMaXN0LmFkZCgnaGlkZScpXG4gICAgfVxuICAgIGVsc2V7XG4gICAgICB0aGlzLmZpeGVkLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGUnKSAgICAgIFxuICAgIH1cblxuXG5cbiAgfVxuXG59XG5cbmNvbnN0IGZyYW1ld29yayA9IG5ldyBGcmFtZXdvcmsoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRhaW5lcicpLCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZml4ZWQnKSlcblxuY29uc29sZS5sb2coZnJhbWV3b3JrKSIsImNsYXNzIFRpbWVsaW5le1xuICBjb25zdHJ1Y3Rvcihjb250YWluZXIpe1xuICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyXG4gICAgdGhpcy5jaGFwdGVycyA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcudGltZWxpbmUtLXBhcnQnKVxuICAgIHRoaXMuY3VycmVudF9jaGFwdGVyID0gMFxuICAgIHRoaXMucHJldmlvdXNfY2hhcHRlciA9IDBcbiAgICB0aGlzLmN1cnJlbnRfc2VjdGlvbiA9IDBcbiAgICB0aGlzLmNoYXB0ZXJfcHJldiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jaGFwdGVyLXByZXYnKVxuICAgIHRoaXMuY2hhcHRlcl9uZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNoYXB0ZXItbmV4dCcpXG4gICAgdGhpcy5zZWN0aW9uX25leHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VjdGlvbi1uZXh0JylcblxuICAgIHRoaXMuY2hhcHRlcl9wcmV2LmZvckVhY2goZnVuY3Rpb24oYnV0dG9uKSB7XG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCkgICAgXG4gICAgICAgIGlmKHRoaXMuY3VycmVudF9jaGFwdGVyID4gMCl7XG4gICAgICAgICAgdGhpcy5wcmV2aW91c19jaGFwdGVyID0gdGhpcy5jdXJyZW50X2NoYXB0ZXIgICAgIFxuICAgICAgICAgIHRoaXMuY3VycmVudF9jaGFwdGVyIC09IDFcbiAgICAgICAgICB0aGlzLnNlbGVjdENoYXB0ZXIoKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH0sIHRoaXMpXG5cbiAgICB0aGlzLmNoYXB0ZXJfbmV4dC5mb3JFYWNoKGZ1bmN0aW9uKGJ1dHRvbikge1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgIGlmKHRoaXMuY3VycmVudF9jaGFwdGVyIDwgdGhpcy5jaGFwdGVycy5sZW5ndGggLSAxKXtcbiAgICAgICAgICB0aGlzLnByZXZpb3VzX2NoYXB0ZXIgPSB0aGlzLmN1cnJlbnRfY2hhcHRlciAgICAgXG4gICAgICAgICAgdGhpcy5jdXJyZW50X2NoYXB0ZXIgKz0gMVxuICAgICAgICAgIHRoaXMuc2VsZWN0Q2hhcHRlcigpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSwgdGhpcylcblxuICB9XG5cbiAgc2VsZWN0Q2hhcHRlcigpe1xuICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVYKC0nKyAodGhpcy5jdXJyZW50X2NoYXB0ZXIgKiAxMDApICsndncpJ1xuICAgIHRoaXMuY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2hpZGUnKVxuICAgIGZyYW1ld29yay5jb250YWluZXIuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVgoLScrICgodGhpcy5jdXJyZW50X2NoYXB0ZXIgKiA0ICsgMykgKiAxMDApICsndncpJ1xuICB9XG59XG5cbmNvbnN0IHRpbWVsaW5lID0gbmV3IFRpbWVsaW5lKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50aW1lbGluZScpKSJdfQ==
